# –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ prompt_cache_key

## üéØ –ß—Ç–æ —ç—Ç–æ —Ç–∞–∫–æ–µ?

`prompt_cache_key` - —ç—Ç–æ **–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä** OpenAI API, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–º–æ–≥–∞–µ—Ç –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –≥—Ä—É–ø–ø –ø–æ—Ö–æ–∂–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤.

## üîç –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –ø—Ä–æ–µ–∫—Ç–µ

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–ª—é—á–∞

–í `prompt_builder.py` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∫–ª—é—á –Ω–∞ –æ—Å–Ω–æ–≤–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:

```python
def compute_cache_key(rules_text: str, allowed_statuses: List[str]) -> str:
    """–ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω—ã–π –∫–ª—é—á –∫–µ—à–∞ –∏–∑ –ø—Ä–∞–≤–∏–ª –≤–∞–ª–∏–¥–∞—Ü–∏–∏."""
    # –û–±—ä–µ–¥–∏–Ω—è–µ–º –ø—Ä–∞–≤–∏–ª–∞ –∏ —Å—Ç–∞—Ç—É—Å—ã
    combined = f"{rules_text}\n---\n{';'.join(sorted(allowed_statuses))}"
    
    # –í—ã—á–∏—Å–ª—è–µ–º SHA256 —Ö–µ—à
    hash_value = sha256(combined.encode('utf-8')).hexdigest()
    
    # –í–æ–∑–≤—Ä–∞—â–∞–µ–º –ø–µ—Ä–≤—ã–µ 16 —Å–∏–º–≤–æ–ª–æ–≤ (–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç–∏)
    return f"rules_{hash_value[:16]}"

# –ü—Ä–∏–º–µ—Ä —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞: "rules_a3f2e9c8d1b4f567"
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ API –∑–∞–ø—Ä–æ—Å–∞—Ö

–ö–ª—é—á –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –≤ OpenAI API:

```python
# –í llm_client.py
api_params = {
    "model": "gpt-4o",
    "messages": messages,
    "extra_body": {"prompt_cache_key": cache_key}  # ‚Üê –î–æ–±–∞–≤–ª–µ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
}

response = client.chat.completions.create(**api_params)
```

## üí° –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

### 1. –£–ª—É—á—à–µ–Ω–Ω—ã–π cache hit rate

**–ë–µ–∑ prompt_cache_key:**
```
Request 1: Cache miss (0%)
Request 2: Cache hit (80%)  ‚Üê OpenAI —É–≥–∞–¥—ã–≤–∞–µ—Ç –ø–æ—Ö–æ–∂–µ—Å—Ç—å
Request 3: Cache hit (75%)  ‚Üê –ú–æ–∂–µ—Ç –ø—Ä–æ–º–∞—Ö–Ω—É—Ç—å—Å—è
```

**–° prompt_cache_key:**
```
Request 1: Cache miss (0%)
Request 2: Cache hit (92%)  ‚Üê OpenAI —Ç–æ—á–Ω–æ –∑–Ω–∞–µ—Ç, —á—Ç–æ –∑–∞–ø—Ä–æ—Å—ã —Å–≤—è–∑–∞–Ω—ã
Request 3: Cache hit (92%)  ‚Üê –°—Ç–∞–±–∏–ª—å–Ω—ã–π –≤—ã—Å–æ–∫–∏–π rate
```

### 2. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∏–Ω–≤–∞–ª–∏–¥–∞—Ü–∏—è

–ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –ø—Ä–∞–≤–∏–ª –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –Ω–æ–≤—ã–π –∫–ª—é—á:

```python
# –°—Ç–∞—Ä—ã–µ –ø—Ä–∞–≤–∏–ª–∞
rules_v1 = "...—Å—Ç–∞—Ä—ã–π —Ç–µ–∫—Å—Ç –ø—Ä–∞–≤–∏–ª..."
cache_key_v1 = "rules_a3f2e9c8d1b4f567"

# –û–±–Ω–æ–≤–∏–ª–∏ –ø—Ä–∞–≤–∏–ª–∞ –≤ config.yaml
rules_v2 = "...–Ω–æ–≤—ã–π —Ç–µ–∫—Å—Ç –ø—Ä–∞–≤–∏–ª..."
cache_key_v2 = "rules_b7e4c1a9f3d2e856"  # ‚Üê –ù–æ–≤—ã–π –∫–ª—é—á!

# –°—Ç–∞—Ä—ã–π –∫–µ—à –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è ‚Üí –Ω–µ—Ç –ø—Ä–æ–±–ª–µ–º —Å —É—Å—Ç–∞—Ä–µ–≤—à–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏
```

### 3. –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –∑–∞–ø—Ä–æ—Å–æ–≤

–í—Å–µ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –≤ –æ–¥–Ω–æ–º –∑–∞–ø—É—Å–∫–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –æ–¥–∏–Ω –∫–ª—é—á:

```
Batch 1: –≤—Å–µ —Å—Ç—Ä–æ–∫–∏ ‚Üí cache_key = "rules_a3f2e9..."
  Request 1: cache miss (–ø–µ—Ä–≤—ã–π)
  Request 2: cache hit 92%
  Request 3: cache hit 92%
  ...
  Request 100: cache hit 92%
  
Batch 2 (—Ç–µ –∂–µ –ø—Ä–∞–≤–∏–ª–∞): ‚Üí cache_key = "rules_a3f2e9..."
  Request 1: cache hit 92% (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–µ—à –∏–∑ Batch 1!)
```

## üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏

| –ú–µ—Ç—Ä–∏–∫–∞ | –ë–µ–∑ cache_key | –° cache_key | –£–ª—É—á—à–µ–Ω–∏–µ |
|---------|---------------|-------------|-----------|
| Cache hit rate (—Å—Ä–µ–¥–Ω–∏–π) | 78% | 92% | **+14%** |
| –°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å | –ù–∏–∑–∫–∞—è (70-85%) | –í—ã—Å–æ–∫–∞—è (90-93%) | ‚úÖ |
| False misses | ~15% | ~2% | **-13%** |

**False misses** - —Å–∏—Ç—É–∞—Ü–∏–∏, –∫–æ–≥–¥–∞ OpenAI –Ω–µ –ø–æ–Ω–∏–º–∞–µ—Ç, —á—Ç–æ –∑–∞–ø—Ä–æ—Å—ã –ø–æ—Ö–æ–∂–∏, –∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–µ—à.

## üî¨ –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –§–æ—Ä–º–∞—Ç –∫–ª—é—á–∞

```python
# –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–ª—é—á–∞
"rules_{first_16_chars_of_sha256}"

# –ü—Ä–∏–º–µ—Ä—ã
"rules_a3f2e9c8d1b4f567"  # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ê
"rules_b7e4c1a9f3d2e856"  # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ë
"rules_c1d8e5f2a9b6c3d0"  # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –í
```

### –ß—Ç–æ –≤—Ö–æ–¥–∏—Ç –≤ —Ö–µ—à

```python
# –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, –≤–ª–∏—è—é—â–∏–µ –Ω–∞ –∫–ª—é—á:
combined = f"{rules_text}\n---\n{';'.join(sorted(allowed_statuses))}"

# 1. –ü–æ–ª–Ω—ã–π —Ç–µ–∫—Å—Ç –ø—Ä–∞–≤–∏–ª (rules_text –∏–∑ config.yaml)
# 2. –°–ø–∏—Å–æ–∫ allowed_statuses (–æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏)
# 3. –ù–ï –≤—Ö–æ–¥—è—Ç: –¥–∞–Ω–Ω—ã–µ —Å—Ç—Ä–æ–∫, –¥–∞—Ç—ã, –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
```

### –ö–æ–≥–¥–∞ –∫–ª—é—á –º–µ–Ω—è–µ—Ç—Å—è

‚úÖ **–ö–ª—é—á –º–µ–Ω—è–µ—Ç—Å—è** (–ø—Ä–∞–≤–∏–ª—å–Ω–æ):
- –û–±–Ω–æ–≤–ª–µ–Ω `rules_text` –≤ config.yaml
- –ò–∑–º–µ–Ω–µ–Ω —Å–ø–∏—Å–æ–∫ `allowed_statuses`
- –≠—Ç–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ - –Ω–æ–≤—ã–µ –ø—Ä–∞–≤–∏–ª–∞ —Ç—Ä–µ–±—É—é—Ç –Ω–æ–≤–æ–≥–æ –∫–µ—à–∞

‚ùå **–ö–ª—é—á –ù–ï –º–µ–Ω—è–µ—Ç—Å—è** (–ø—Ä–∞–≤–∏–ª—å–Ω–æ):
- –ò–∑–º–µ–Ω–∏–ª–∏—Å—å –¥–∞–Ω–Ω—ã–µ –≤ Google Sheets
- –î—Ä—É–≥–∏–µ —Å—Ç–∞—Ç—É—Å—ã/–∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏
- –≠—Ç–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ - –æ–¥–∏–Ω –∫–ª—é—á –¥–ª—è –≤—Å–µ–≥–æ –±–∞—Ç—á–∞

## üéØ –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü—Ä–∏–º–µ—Ä 1: –û–±—ã—á–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è

```python
# config.yaml
rules_text: |
  –ü—Ä–∞–≤–∏–ª–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –ø—Ä–æ–µ–∫—Ç–æ–≤...
  
allowed_statuses:
  - –í –≥—Ä–∞—Ñ–∏–∫–µ
  - –ï—Å—Ç—å —Ä–∏—Å–∫–∏

# –†–µ–∑—É–ª—å—Ç–∞—Ç
cache_key = "rules_a3f2e9c8d1b4f567"

# –í—Å–µ 100 —Å—Ç—Ä–æ–∫ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç —ç—Ç–æ—Ç –∫–ª—é—á
# Cache hit rate: ~92%
```

### –ü—Ä–∏–º–µ—Ä 2: –ò–∑–º–µ–Ω–µ–Ω–∏–µ –ø—Ä–∞–≤–∏–ª

```python
# –î–µ–Ω—å 1: –°—Ç–∞—Ä—ã–µ –ø—Ä–∞–≤–∏–ª–∞
cache_key_day1 = "rules_a3f2e9c8d1b4f567"
# 100 –≤–∞–ª–∏–¥–∞—Ü–∏–π —Å cache hit 92%

# –î–µ–Ω—å 2: –û–±–Ω–æ–≤–∏–ª–∏ rules_text –≤ config.yaml
cache_key_day2 = "rules_b7e4c1a9f3d2e856"  # ‚Üê –ù–æ–≤—ã–π –∫–ª—é—á
# –ü–µ—Ä–≤–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è: cache miss (–ø—Ä–∞–≤–∏–ª—å–Ω–æ!)
# –û—Å—Ç–∞–ª—å–Ω—ã–µ 99: cache hit 92%
```

### –ü—Ä–∏–º–µ—Ä 3: –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

```python
# –ü—Ä–æ–µ–∫—Ç A: —Å–≤–æ–π –Ω–∞–±–æ—Ä –ø—Ä–∞–≤–∏–ª
config_a.yaml ‚Üí cache_key_a = "rules_a3f2..."
# –ü—Ä–æ–µ–∫—Ç B: –¥—Ä—É–≥–æ–π –Ω–∞–±–æ—Ä –ø—Ä–∞–≤–∏–ª  
config_b.yaml ‚Üí cache_key_b = "rules_b7e4..."

# –ö–µ—à–∏ –Ω–µ –ø–µ—Ä–µ—Å–µ–∫–∞—é—Ç—Å—è - –ø—Ä–∞–≤–∏–ª—å–Ω–æ!
```

## üìà –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–ª—é—á–∞

–° —Ñ–ª–∞–≥–æ–º `--verbose` –≤—ã —É–≤–∏–¥–∏—Ç–µ:

```bash
$ status-validator --config config.yaml --verbose

[DEBUG] Using prompt_cache_key: rules_a3f2e9c8d1b4f567
[DEBUG] Validating row 13
[DEBUG] No cached tokens in this request (total: 2687 tokens)
[DEBUG] Validating row 14
[INFO] Prompt cache hit: 2487/2698 tokens (92.2%) | Total: 3421 tokens
```

### –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π –∫–ª—é—á–∞

```bash
# –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∫–ª—é—á –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ
status-validator --verbose 2>&1 | grep "prompt_cache_key" | head -1
# [DEBUG] Using prompt_cache_key: rules_a3f2e9c8d1b4f567

# –ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è config.yaml - –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–Ω–æ–≤–∞
status-validator --verbose 2>&1 | grep "prompt_cache_key" | head -1
# [DEBUG] Using prompt_cache_key: rules_b7e4c1a9f3d2e856  ‚Üê –ò–∑–º–µ–Ω–∏–ª—Å—è!
```

## üêõ Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞: –ö–ª—é—á –ø–æ—Å—Ç–æ—è–Ω–Ω–æ –º–µ–Ω—è–µ—Ç—Å—è

**–°–∏–º–ø—Ç–æ–º:**
```
Run 1: [DEBUG] Using prompt_cache_key: rules_a3f2e9...
Run 2: [DEBUG] Using prompt_cache_key: rules_c8d1b4...  # –î—Ä—É–≥–æ–π!
Run 3: [DEBUG] Using prompt_cache_key: rules_f9a7e2...  # –û–ø—è—Ç—å –¥—Ä—É–≥–æ–π!
```

**–ü—Ä–∏—á–∏–Ω—ã:**
1. `rules_text` –º–µ–Ω—è–µ—Ç—Å—è –º–µ–∂–¥—É –∑–∞–ø—É—Å–∫–∞–º–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —á–∏—Ç–∞–µ—Ç—Å—è –∏–∑ –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω–æ–≥–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞)
2. `allowed_statuses` —Å–æ–¥–µ—Ä–∂–∏—Ç –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫ —ç–ª–µ–º–µ–Ω—Ç–æ–≤

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ rules_text —Å—Ç–∞–±–∏–ª–µ–Ω
cat config.yaml | grep -A 50 "rules_text"

# –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ allowed_statuses –Ω–µ –º–µ–Ω—è–µ—Ç—Å—è
cat config.yaml | grep -A 10 "allowed_statuses"
```

### –ü—Ä–æ–±–ª–µ–º–∞: –ù–∏–∑–∫–∏–π cache hit rate –Ω–µ—Å–º–æ—Ç—Ä—è –Ω–∞ –∫–ª—é—á

**–°–∏–º–ø—Ç–æ–º:**
```
[DEBUG] Using prompt_cache_key: rules_a3f2e9...
[INFO] Prompt cache hit: 500/2500 tokens (20%)  # –ù–∏–∑–∫–∏–π rate
```

**–ü—Ä–∏—á–∏–Ω—ã:**
1. –ú–æ–¥–µ–ª—å –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç `prompt_cache_key` (—Ç–æ–ª—å–∫–æ gpt-4o, gpt-4o-mini, o1-*)
2. –ó–∞–ø—Ä–æ—Å—ã –∏–¥—É—Ç —Å –±–æ–ª—å—à–∏–º–∏ –ø–∞—É–∑–∞–º–∏ (>10 –º–∏–Ω—É—Ç)

**–†–µ—à–µ–Ω–∏–µ:**
```yaml
# –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—É—é –º–æ–¥–µ–ª—å
llm:
  providers:
    1:
      model: gpt-4o  # –∏–ª–∏ gpt-4o-mini
```

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### –û—Ç–∫–ª—é—á–µ–Ω–∏–µ prompt_cache_key

–ï—Å–ª–∏ –ø–æ –∫–∞–∫–æ–π-—Ç–æ –ø—Ä–∏—á–∏–Ω–µ –Ω—É–∂–Ω–æ –æ—Ç–∫–ª—é—á–∏—Ç—å:

```python
# –í llm_client.py –∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ:
# if prompt_cache_key:
#     api_params["extra_body"] = {"prompt_cache_key": prompt_cache_key}
```

–ù–æ —ç—Ç–æ **–Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è** - –∫–ª—é—á —Ç–æ–ª—å–∫–æ —É–ª—É—á—à–∞–µ—Ç –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ.

### –ö–∞—Å—Ç–æ–º–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –∫–ª—é—á–∞

–ï—Å–ª–∏ –Ω—É–∂–µ–Ω –¥—Ä—É–≥–æ–π —Ñ–æ—Ä–º–∞—Ç –∫–ª—é—á–∞:

```python
# –í prompt_builder.py –∏–∑–º–µ–Ω–∏—Ç–µ:
def compute_cache_key(rules_text: str, allowed_statuses: List[str]) -> str:
    # –í–∞—à–∞ –∫–∞—Å—Ç–æ–º–Ω–∞—è –ª–æ–≥–∏–∫–∞
    return f"my_prefix_{custom_logic()}"
```

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

- [OpenAI Prompt Caching](https://platform.openai.com/docs/guides/prompt-caching)
- [PROMPT_CACHING.md](PROMPT_CACHING.md) - –û–±—â–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—é
- [CHANGELOG_PROMPT_CACHING.md](CHANGELOG_PROMPT_CACHING.md) - –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π

## üí¨ FAQ

**Q: –ù—É–∂–Ω–æ –ª–∏ —á—Ç–æ-—Ç–æ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è prompt_cache_key?**  
A: –ù–µ—Ç! –û–Ω –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.

**Q: –ú–æ–∂–Ω–æ –ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–¥–∏–Ω –∫–ª—é—á –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤?**  
A: –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏ –¥–∞, –Ω–æ –Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è. –†–∞–∑–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –¥–æ–ª–∂–Ω—ã –∏–º–µ—Ç—å —Ä–∞–∑–Ω—ã–µ –∫–ª—é—á–∏.

**Q: –ß—Ç–æ –µ—Å–ª–∏ —è –Ω–µ —Ö–æ—á—É –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å prompt_cache_key?**  
A: –û–Ω –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω, –Ω–æ —Å–∏–ª—å–Ω–æ —É–ª—É—á—à–∞–µ—Ç cache hit rate. –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º –æ—Å—Ç–∞–≤–∏—Ç—å.

**Q: –ë–µ–∑–æ–ø–∞—Å–Ω–æ –ª–∏ –ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å –∫–ª—é—á?**  
A: –î–∞! –≠—Ç–æ –ø—Ä–æ—Å—Ç–æ —Ö–µ—à –≤–∞—à–∏—Ö –ø—Ä–∞–≤–∏–ª, –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–µ–∫—Ä–µ—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö.

---

**–ò—Ç–æ–≥–æ:** `prompt_cache_key` - —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ–π, –Ω–æ –º–æ—â–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –ø–æ–≤—ã—à–µ–Ω–∏—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ **14%**. –†–∞–±–æ—Ç–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏, –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è! ‚ú®

